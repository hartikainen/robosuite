<?xml version="1.0"?>

<mujoco model="dynamixel-claw">
  <asset>
    <mesh name="mx28" file="./meshes/dynamixel_claw_gripper/base_simple.STL" scale=".001 .001 .001"/>
    <mesh name="link0" file="./meshes/dynamixel_claw_gripper/link0_simple.STL" scale=".001 .001 .001"/>
    <mesh name="link1" file="./meshes/dynamixel_claw_gripper/link1_simple.STL" scale=".001 .001 .001"/>
    <mesh name="link2" file="./meshes/dynamixel_claw_gripper/link2_simple.STL" scale=".001 .001 .001"/>
    <texture name="texgeom" type="cube" builtin="flat" mark="cross" width="127" height="1278" rgb1="0.8 0.6 0.4" rgb2="0.8 0.6 0.4" markrgb="1 1 1" random="0.01"/>
    <texture name="texmesh" type="cube" builtin="flat" rgb1=".8 .8 .8" rgb2=".8 .8 .8" mark="random" markrgb=".4 .4 .4" random="0.1" width="100" height="100"/>
    <material name="MatPlane" reflectance="0.3" texture="texplane" texrepeat="1 1" texuniform="true"/>
    <material name="MatGeom" texture="texgeom" texuniform="true" shininess="0.03"/>
    <material name="MatMesh" texture="texmesh" specular="01" shininess="0.00003"/>
  </asset>
  <default>
    <default class="dynamixel_base">
      <geom type="mesh" contype="1" conaffinity="1" condim="1" rgba="0 0 0 1" group="1" margin="0.001" solref=".02 1" solimp=".8 .8 .01" material="MatGeom" mesh="mx28" size="0.18 0.18 0.18" pos="0 0 0.022"/>
    </default>
    <default class="joint_0">
      <geom type="mesh" contype="1" conaffinity="1" condim="1" rgba="0 0 0 1" group="1" margin="0.001" solref=".02 1" solimp=".8 .8 .01" material="MatGeom" mesh="link0" size="0.018 0.018 0.027" pos="0 0 0"/>
      <joint type="hinge" limited="true" damping=".1" armature="0.001" axis="0 0 1" range="-1.57 1.57"/>
    </default>
    <default class="joint_1">
      <geom type="mesh" contype="1" conaffinity="1" condim="1" rgba="0 0 0 1" group="1" margin="0.001" solref=".02 1" solimp=".8 .8 .01" material="MatGeom" mesh="link1" pos="0 0 0"/>
      <joint type="hinge" limited="true" damping=".1" armature="0.001" axis="1 0 0" range="-1.57 1.57"/>
    </default>
    <default class="joint_2">
      <geom type="mesh" contype="1" conaffinity="1" condim="1" rgba="0 0 0 1" group="1" margin="0.001" solref=".02 1" solimp=".8 .8 .01" material="MatGeom" mesh="link2" pos="0 0 0"/>
      <joint type="hinge" limited="true" damping=".1" armature="0.001" axis="1 0 0" range="-1.57 1.57"/>
    </default>
    <default class="finger-tip">
      <site type="sphere" pos="0 0 0.076" size="0.01" rgba="1 1 1 1"/>
    </default>
  </default>
  <actuator>
    <position name="gripper_FFJ0" kp="0.3" joint="FFJ0" ctrllimited="true" ctrlrange="-1.57 1.57" forcelimited="true" forcerange="-0.48875855327 0.48875855327"/>
    <position name="gripper_FFJ1" kp="0.3" joint="FFJ1" ctrllimited="true" ctrlrange="-1.57 1.57" forcelimited="true" forcerange="-0.48875855327 0.48875855327"/>
    <position name="gripper_FFJ2" kp="0.3" joint="FFJ2" ctrllimited="true" ctrlrange="-1.57 1.57" forcelimited="true" forcerange="-0.48875855327 0.48875855327"/>

    <position name="gripper_MFJ0" kp="0.3" joint="MFJ0" ctrllimited="true" ctrlrange="-1.57 1.57" forcelimited="true" forcerange="-0.48875855327 0.48875855327"/>
    <position name="gripper_MFJ1" kp="0.3" joint="MFJ1" ctrllimited="true" ctrlrange="-1.57 1.57" forcelimited="true" forcerange="-0.48875855327 0.48875855327"/>
    <position name="gripper_MFJ2" kp="0.3" joint="MFJ2" ctrllimited="true" ctrlrange="-1.57 1.57" forcelimited="true" forcerange="-0.48875855327 0.48875855327"/>

    <position name="gripper_THJ0" kp="0.3" joint="THJ0" ctrllimited="true" ctrlrange="-1.57 1.57" forcelimited="true" forcerange="-0.48875855327 0.48875855327"/>
    <position name="gripper_THJ1" kp="0.3" joint="THJ1" ctrllimited="true" ctrlrange="-1.57 1.57" forcelimited="true" forcerange="-0.48875855327 0.48875855327"/>
    <position name="gripper_THJ2" kp="0.3" joint="THJ2" ctrllimited="true" ctrlrange="-1.57 1.57" forcelimited="true" forcerange="-0.48875855327 0.48875855327"/>
  </actuator>
  <compiler meshdir="./meshes/dynamixel_claw_gripper/"/>
  <worldbody>
    <inertial pos="0 0 0" mass="1e-6" diaginertia="1e-6 1e-6 1e-6"/>
    <body name="palm" pos="0 0 0.0075" euler="0 0 3.14">
      <body name="palm_base" euler="0 0 0">
        <inertial pos="0 0 0" mass="0"/>
        <geom name="gripper_palm" type="cylinder" size=".074 .0015" rgba="1 1 1 0.3" group="1"/>
        <site name="grip_site" pos="0 0 0.175" size="0.01" rgba="1 0 0 1" type="sphere" group="1"/>
        <site name="grip_site_cylinder" pos="0 0 0" size="0.005 10" rgba="0 1 0 0.3" type="cylinder" group="1"/>
      </body>

      <body name="FFbase" pos=".04167 0.024 0" euler="0 0 2.0944">
        <geom class="dynamixel_base" name="FFLb"/>
        <body name="FF0" pos="0 0 .042" euler="0 0 3.14">
          <geom class="joint_0" name="FFL0"/>
          <joint class="joint_0" name="FFJ0"/>
          <body name="FFL1" pos="0 0 .042">
            <geom class="joint_1" name="FFL1x"/>
            <joint class="joint_1" name="FFJ1"/>
            <body name="FFL2" pos="0 0 .072">
              <geom class="joint_2" name="FFL2x"/>
              <joint class="joint_2" name="FFJ2"/>
              <site class="finger-tip"/>
            </body>
          </body>
        </body>
      </body>
      <body name="MFbase" pos="-.04167 0.024 0" euler="0 0 -2.0944">
        <geom class="dynamixel_base" name="MFLb"/>
        <body name="MF0" pos="0 0 0.042" euler="0 0 3.14">
          <geom class="joint_0" name="MFL0"/>
          <joint class="joint_0" name="MFJ0"/>
          <body name="MFL1" pos="0 0 .042">
            <geom class="joint_1" name="MFL1x"/>
            <joint class="joint_1" name="MFJ1"/>
            <body name="MFL2" pos="0 0 .072">
              <geom class="joint_2" name="MFL2x"/>
              <joint class="joint_2" name="MFJ2"/>
              <site class="finger-tip"/>
            </body>
          </body>
        </body>
      </body>
      <body name="THbase" pos="0 -0.048 0">
        <geom class="dynamixel_base" name="THLb"/>
        <body name="TH0" pos="0 0 .042" euler="0 0 3.14">
          <geom class="joint_0" name="THL0"/>
          <joint class="joint_0" name="THJ0"/>
          <body name="THL1" pos="0 0 .042">
            <geom class="joint_1" name="THL1x"/>
            <joint class="joint_1" name="THJ1"/>
            <body name="THL2" pos="0 0 .072">
              <geom class="joint_2" name="THL2x"/>
              <joint class="joint_2" name="THJ2"/>
              <site class="finger-tip"/>
            </body>
          </body>
        </body>
      </body>
    </body>
  </worldbody>
</mujoco>
